# Conduit Core

This is Conduit Core's entry point package.<br />
It's responsible for exposing administrative APIs, module configuration and service discovery.

Check out [Admin](../admin), [Commons](../commons) and [gRPC-sdk](../../libraries/grpc-sdk)
to find out more about Conduit's internals.

## Requirements ‚ö°

- Redis
- MongoDB or PostgreSQL database

## Features ‚úîÔ∏è

- Module management
- Configuration management
- Service discovery
- Administrative APIs
    - REST (with Swagger)
    - GraphQL
    - WebSockets (via Socket.io)
- Tracing
- Logging and Errors

## Environment Variables üìÉ <a name="env-vars"></a>

|       Variable      | Description                                                | Required |   Example   |
|:-------------------:|:-----------------------------------------------------------|:--------:|:-----------:|
|     `REDIS_HOST`    | Redis Address                                              |   True   | `localhost` |
|     `REDIS_PORT`    | Redis Port                                                 |   True   |    `6379`   |
|  `ADMIN_HTTP_PORT`  | Port to be used by admin REST and GrahpQL APIs             |  False   |    `3030`   |
| `ADMIN_SOCKET_PORT` | Port to be used by admin WebSockets API                    |  False   |    `3030`   |
|     `GRPC_PORT`      | The port number the gRPC server will listen to                      |  False   |  `55190`           |
|    `MASTER_KEY`     | Master Secret                                              |  False   | `M4ST3RK3Y` |
|     `GRPC_KEY`      | Specifying a secret enables gRPC signed request protection |  False   | `someRandomSecret` |
| `SERVICE_MONITOR_INTERVAL_MS` | Service discovery monitor interval in ms (default: 30000) |  False   | `5000` |
| `SERVICE_RECONN_RETRIES` | Reconnection attempts before removal of offline services (default: 5) |  False   | `5` |
| `SERVICE_RECONN_INIT_MS` | Initial delay for linear backoff reconnection to offline services in ms (default: 250) | False | `125` |
| `DEBUG__DISABLE_SERVICE_REMOVAL` | Prevent removal of offline services           |  False   |    `true`   |
